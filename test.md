

1 sec 5 ta request

max_token = 2
token = 2
refil_rate = 1 
last refil_time = 0

Consume : 

cur_time = 0
elapsed_time = 0  
token = 9
last_refil_time = 0 

if token > 1 
    9
